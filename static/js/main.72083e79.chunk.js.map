{"version":3,"sources":["Fireworks.js","App.js","index.js"],"names":["Fireworks","props","canvasRef","useRef","useEffect","canvas","current","ctx","getContext","fillStyle","fillRect","width","height","cw","window","innerWidth","ch","innerHeight","fireworks","particles","limiterTick","timerTick","mousedown","mx","my","random","min","max","Math","calculateDistance","p1x","p1y","p2x","p2y","xDistance","yDistance","sqrt","pow","Firework","sx","sy","tx","ty","this","x","y","distanceToTarget","distanceTraveled","coordinates","coordinateCount","push","angle","atan2","speed","acceleration","brightness","targetRadius","Particle","PI","friction","gravity","hue","alpha","decay","addEventListener","e","pageX","offsetLeft","pageY","offsetTop","preventDefault","prototype","update","index","pop","unshift","vx","cos","vy","sin","particleCount","createParticles","splice","draw","beginPath","moveTo","length","lineTo","strokeStyle","stroke","arc","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","onload","loop","globalCompositeOperation","i","ref","App","style","backgroundColor","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72083e79.chunk.js","sourcesContent":["import React, { useRef, useEffect } from \"react\";\n\nconst Fireworks = (props) => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    //Our first draw\n    ctx.fillStyle = \"#000000\";\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    // full screen dimensions\n    const cw = window.innerWidth;\n    const ch = window.innerHeight;\n    // firework collection\n    const fireworks = [];\n    // particle collection\n    const particles = [];\n    // starting hue\n    const hue = 120;\n    // when launching fireworks with a click, too many get launched at once without a limiter, one launch per 5 loop ticks\n    const limiterTotal = 5;\n    let limiterTick = 0;\n    // this will time the auto launches of fireworks, one launch per 80 loop ticks\n    const timerTotal = 80;\n    let timerTick = 0;\n    let mousedown = false;\n    // mouse x coordinate,\n    let mx = 0;\n    // mouse y coordinate\n    let my = 0;\n\n    // set canvas dimensions\n    canvas.width = cw;\n    canvas.height = ch;\n\n    // now we are going to setup our function placeholders for the entire demo\n\n    // get a random number within a range\n    function random(min, max) {\n      return Math.random() * (max - min) + min;\n    }\n\n    // mouse event bindings\n// update the mouse coordinates on mousemove\ncanvas.addEventListener( 'mousemove', function( e ) {\n\tmx = e.pageX - canvas.offsetLeft;\n\tmy = e.pageY - canvas.offsetTop;\n});\n\n// toggle mousedown state and prevent canvas from being selected\ncanvas.addEventListener( 'mousedown', function( e ) {\n\te.preventDefault();\n\tmousedown = true;\n});\n\ncanvas.addEventListener( 'mouseup', function( e ) {\n\te.preventDefault();\n\tmousedown = false;\n});\n\n    // calculate the distance between two points\n    function calculateDistance(p1x, p1y, p2x, p2y) {\n      var xDistance = p1x - p2x,\n        yDistance = p1y - p2y;\n      return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));\n    }\n\n    // create firework\n    function Firework(sx, sy, tx, ty) {\n      // actual coordinates\n      this.x = sx;\n      this.y = sy;\n      // starting coordinates\n      this.sx = sx;\n      this.sy = sy;\n      // target coordinates\n      this.tx = tx;\n      this.ty = ty;\n      // distance from starting point to target\n      this.distanceToTarget = calculateDistance(sx, sy, tx, ty);\n      this.distanceTraveled = 0;\n      // track the past coordinates of each firework to create a trail effect, increase the coordinate count to create more prominent trails\n      this.coordinates = [];\n      this.coordinateCount = 3;\n      // populate initial coordinate collection with the current coordinates\n      while (this.coordinateCount--) {\n        this.coordinates.push([this.x, this.y]);\n      }\n      this.angle = Math.atan2(ty - sy, tx - sx);\n      this.speed = 2;\n      this.acceleration = 1.05;\n      this.brightness = random(50, 70);\n      // circle target indicator radius\n      this.targetRadius = 1;\n    }\n\n    // update firework\n    Firework.prototype.update = function (index) {\n      // remove last item in coordinates array\n      this.coordinates.pop();\n      // add current coordinates to the start of the array\n      this.coordinates.unshift([this.x, this.y]);\n\n      // cycle the circle target indicator radius\n      if (this.targetRadius < 8) {\n        this.targetRadius += 0.3;\n      } else {\n        this.targetRadius = 1;\n      }\n\n      // speed up the firework\n      this.speed *= this.acceleration;\n\n      // get the current velocities based on angle and speed\n      var vx = Math.cos(this.angle) * this.speed,\n        vy = Math.sin(this.angle) * this.speed;\n      // how far will the firework have traveled with velocities applied?\n      this.distanceTraveled = calculateDistance(\n        this.sx,\n        this.sy,\n        this.x + vx,\n        this.y + vy\n      );\n\n      // if the distance traveled, including velocities, is greater than the initial distance to the target, then the target has been reached\n      if (this.distanceTraveled >= this.distanceToTarget) {\n        createParticles(this.tx, this.ty);\n        // remove the firework, use the index passed into the update function to determine which to remove\n        fireworks.splice(index, 1);\n      } else {\n        // target not reached, keep traveling\n        this.x += vx;\n        this.y += vy;\n      }\n    };\n\n    // draw firework\n    Firework.prototype.draw = function () {\n      ctx.beginPath();\n      // move to the last tracked coordinate in the set, then draw a line to the current x and y\n      ctx.moveTo(\n        this.coordinates[this.coordinates.length - 1][0],\n        this.coordinates[this.coordinates.length - 1][1]\n      );\n      ctx.lineTo(this.x, this.y);\n      ctx.strokeStyle = \"hsl(\" + hue + \", 100%, \" + this.brightness + \"%)\";\n      ctx.stroke();\n\n      ctx.beginPath();\n      // draw the target for this firework with a pulsing circle\n      ctx.arc(this.tx, this.ty, this.targetRadius, 0, Math.PI * 2);\n      ctx.stroke();\n    };\n\n    // create particle\n    function Particle(x, y) {\n      this.x = x;\n      this.y = y;\n      // track the past coordinates of each particle to create a trail effect, increase the coordinate count to create more prominent trails\n      this.coordinates = [];\n      this.coordinateCount = 5;\n      while (this.coordinateCount--) {\n        this.coordinates.push([this.x, this.y]);\n      }\n      // set a random angle in all possible directions, in radians\n      this.angle = random(0, Math.PI * 2);\n      this.speed = random(1, 10);\n      // friction will slow the particle down\n      this.friction = 0.95;\n      // gravity will be applied and pull the particle down\n      this.gravity = 1;\n      // set the hue to a random number +-50 of the overall hue variable\n      this.hue = random(hue - 50, hue + 50);\n      this.brightness = random(50, 80);\n      this.alpha = 1;\n      // set how fast the particle fades out\n      this.decay = random(0.015, 0.03);\n    }\n\n    // update particle\n    Particle.prototype.update = function (index) {\n      // remove last item in coordinates array\n      this.coordinates.pop();\n      // add current coordinates to the start of the array\n      this.coordinates.unshift([this.x, this.y]);\n      // slow down the particle\n      this.speed *= this.friction;\n      // apply velocity\n      this.x += Math.cos(this.angle) * this.speed;\n      this.y += Math.sin(this.angle) * this.speed + this.gravity;\n      // fade out the particle\n      this.alpha -= this.decay;\n\n      // remove the particle once the alpha is low enough, based on the passed in index\n      if (this.alpha <= this.decay) {\n        particles.splice(index, 1);\n      }\n    };\n\n    // draw particle\n    Particle.prototype.draw = function () {\n      ctx.beginPath();\n      // move to the last tracked coordinates in the set, then draw a line to the current x and y\n      ctx.moveTo(\n        this.coordinates[this.coordinates.length - 1][0],\n        this.coordinates[this.coordinates.length - 1][1]\n      );\n      ctx.lineTo(this.x, this.y);\n      ctx.strokeStyle =\n        \"hsla(\" +\n        this.hue +\n        \", 100%, \" +\n        this.brightness +\n        \"%, \" +\n        this.alpha +\n        \")\";\n      ctx.stroke();\n    };\n\n    // create particle group/explosion\n    function createParticles(x, y) {\n      // increase the particle count for a bigger explosion, beware of the canvas performance hit with the increased particles though\n      var particleCount = 30;\n      while (particleCount--) {\n        particles.push(new Particle(x, y));\n      }\n    }\n\n    window.requestAnimFrame = function(){\n        return (\n            window.requestAnimationFrame       || \n            window.webkitRequestAnimationFrame || \n            window.mozRequestAnimationFrame    || \n            window.oRequestAnimationFrame      || \n            window.msRequestAnimationFrame     || \n            function(/* function */ callback){\n                window.setTimeout(callback, 1000 / 60);\n            }\n        );\n    }();\n    // main demo loop\n    function loop() {\n      // this function will run endlessly with requestAnimationFrame\n      window.requestAnimFrame(loop);\n\n      // increase the hue to get different colored fireworks over time\n\n      // normally, clearRect() would be used to clear the canvas\n      // we want to create a trailing effect though\n      // setting the composite operation to destination-out will allow us to clear the canvas at a specific opacity, rather than wiping it entirely\n      ctx.globalCompositeOperation = \"destination-out\";\n      // decrease the alpha property to create more prominent trails\n      ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\";\n      ctx.fillRect(0, 0, cw, ch);\n      // change the composite operation back to our main mode\n      // lighter creates bright highlight points as the fireworks and particles overlap each other\n      ctx.globalCompositeOperation = \"lighter\";\n\n      // loop over each firework, draw it, update it\n      var i = fireworks.length;\n      while (i--) {\n        fireworks[i].draw();\n        fireworks[i].update(i);\n      }\n\n      // loop over each particle, draw it, update it\n      i = particles.length;\n      while (i--) {\n        particles[i].draw();\n        particles[i].update(i);\n      }\n\n      // launch fireworks automatically to random coordinates, when the mouse isn't down\n      if (timerTick >= timerTotal) {\n        if (!mousedown) {\n          // start the firework at the bottom middle of the screen, then set the random target coordinates, the random y coordinates will be set within the range of the top half of the screen\n          fireworks.push(\n            new Firework(cw / 2, ch, random(0, cw), random(0, ch / 2))\n          );\n          timerTick = 0;\n        }\n      } else {\n        timerTick++;\n      }\n\n      // limit the rate at which fireworks get launched when mouse is down\n      if (limiterTick >= limiterTotal) {\n        if (mousedown) {\n          // start the firework at the bottom middle of the screen, then set the current mouse coordinates as the target\n          fireworks.push(new Firework(cw / 2, ch, mx, my));\n          limiterTick = 0;\n        }\n      } else {\n        limiterTick++;\n      }\n    }\n\n    // once the window loads, we are ready for some fireworks!\n    window.onload = loop;\n  }, []);\n\n  return <canvas ref={canvasRef} {...props} />;\n};\n\nexport default Fireworks;\n","import Fireworks from \"./Fireworks\";\n\nfunction App() {\n  return <Fireworks style={{ backgroundColor:\"black\"}} />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}